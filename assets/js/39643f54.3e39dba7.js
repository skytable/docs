"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6030],{3954:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var n=s(5893),a=s(1151);const o={id:"using-the-repl",title:"Using the REPL"},i=void 0,r={id:"using-the-repl",title:"Using the REPL",description:"Once you've set up Skytable following our guide, you can now get started using the REPL. Note that you must have downloaded the bundle. If not, go back to the installation guide and do it now.",source:"@site/docs/3.using-repl.md",sourceDirName:".",slug:"/using-the-repl",permalink:"/using-the-repl",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"using-the-repl",title:"Using the REPL"},sidebar:"docs",previous:{title:"Installation",permalink:"/installation"},next:{title:"Architecture",permalink:"/architecture"}},l={},d=[{value:"Starting the repl",id:"starting-the-repl",level:2},{value:"Using the REPL",id:"using-the-repl",level:2},{value:"First steps",id:"first-steps",level:2},{value:"Create a space",id:"create-a-space",level:3},{value:"Create a model",id:"create-a-model",level:3},{value:"Add, update and remove some data",id:"add-update-and-remove-some-data",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Once you've set up Skytable ",(0,n.jsx)(t.a,{href:"installation",children:"following our guide"}),", you can now get started using the REPL. Note that you must have downloaded the bundle. If not, go back to the installation guide and do it now."]}),"\n",(0,n.jsx)(t.h2,{id:"starting-the-repl",children:"Starting the repl"}),"\n",(0,n.jsx)(t.p,{children:"Run this to start the command-line REPL:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"./skysh\n"})}),"\n",(0,n.jsx)(t.p,{children:"The REPL will then ask you for a password which you need to type in. This is the root password that you would have set during your installation, so if you don't remember it go ahead and check what you set during the installation step."}),"\n",(0,n.jsxs)(t.admonition,{type:"tip",children:[(0,n.jsx)(t.p,{children:"Keep the root password safe! It's the admin access to your database and without it you won't be able to create or drop or alter\nor ... do anything administrative. But if you do happen to lose it, there's an easy way to reset the password (this however requires you to stop the database, which is also the case with many other databases, and that's primarily for security)."}),(0,n.jsxs)(t.p,{children:["You can read more in the ",(0,n.jsx)(t.a,{href:"system/configuration",children:"configuration"})," page."]})]}),"\n",(0,n.jsx)(t.h2,{id:"using-the-repl",children:"Using the REPL"}),"\n",(0,n.jsxs)(t.p,{children:["You will now see a welcome message and the REPL will prompt you to run something. Now is a good time to run ",(0,n.jsx)(t.code,{children:"sysctl report status"})," which should just print out ",(0,n.jsx)(t.code,{children:"(Okay)"})," in a cyan shade:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"> sysctl report status\n(Okay)\n"})}),"\n",(0,n.jsxs)(t.p,{children:["You can also run queries like: ",(0,n.jsx)(t.code,{children:"inspect global"})," to see available global system information."]}),"\n",(0,n.jsx)(t.admonition,{title:"Quick notes",type:"info",children:(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The REPL currently stores history in the ",(0,n.jsx)(t.code,{children:".sky_history"})," file. If you want to remove history, you can simply delete the file"]}),"\n",(0,n.jsx)(t.li,{children:"The REPL will automatically parameterize queries. Don't worry about what this means; you'll learn about it ahead."}),"\n",(0,n.jsxs)(t.li,{children:["The REPL applies custom formatting to ",(0,n.jsx)(t.code,{children:"DDL"})," queries. For example, even though  ",(0,n.jsx)(t.code,{children:"inspect global"})," returns a JSON as a string,\nthe REPL formats it and outputs it without quotes, to improve readability"]}),"\n",(0,n.jsxs)(t.li,{children:["To connect using different settings (the REPL will attempt to authenticate as ",(0,n.jsx)(t.code,{children:"root"})," by default), see the options using ",(0,n.jsx)(t.code,{children:"skysh --help"})]}),"\n"]})}),"\n",(0,n.jsx)(t.h2,{id:"first-steps",children:"First steps"}),"\n",(0,n.jsxs)(t.p,{children:["Skytable's data model is discussed in depth on ",(0,n.jsx)(t.a,{href:"architecture#data-model",children:"this page"}),", but let us understand some basics. If you've used a SQL\ndatabase, you would be used to the idea of a ",(0,n.jsx)(t.code,{children:"database"})," \u2014 just like this, Skytable has ",(0,n.jsx)(t.code,{children:"space"}),"s. A ",(0,n.jsx)(t.code,{children:"space"})," is a collection\nof ",(0,n.jsx)(t.code,{children:"models"})," (which are like SQL's ",(0,n.jsx)(t.code,{children:"table"}),"s with slightly different functionality) and other containers."]}),"\n",(0,n.jsx)(t.h3,{id:"create-a-space",children:"Create a space"}),"\n",(0,n.jsxs)(t.p,{children:["Let us create a ",(0,n.jsx)(t.code,{children:"space"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"CREATE SPACE myspace\n"})}),"\n",(0,n.jsx)(t.h3,{id:"create-a-model",children:"Create a model"}),"\n",(0,n.jsxs)(t.p,{children:["Let us create a ",(0,n.jsx)(t.code,{children:"model"}),". We want to store something that resembles the structure:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "username": "string username",\n    "password": "string password",\n    "notes": [],\n}\n'})}),"\n",(0,n.jsx)(t.p,{children:"To do this, we create the following Skytable model:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"CREATE MODEL myspace.mymodel(username: string, password: string, notes: list { type: string })\n"})}),"\n",(0,n.jsx)(t.h3,{id:"add-update-and-remove-some-data",children:"Add, update and remove some data"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"INSERT INTO myspace.mymodel('sayan', 'password123', [])\nUPDATE myspace.mymodel SET notes += \"mynewnote\"\nSELECT notes, password FROM myspace.mymodel WHERE username = 'sayan'\n"})})]})}function h(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},1151:(e,t,s)=>{s.d(t,{Z:()=>r,a:()=>i});var n=s(7294);const a={},o=n.createContext(a);function i(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);