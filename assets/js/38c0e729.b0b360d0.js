"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7739],{9644:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>o,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var r=s(5893),i=s(1151);const t={id:"data-types",title:"Data Types"},l=void 0,d={id:"protocol/data-types",title:"Data Types",description:"This table lists all data types supported by Skytable and their corresponding",source:"@site/versioned_docs/version-0.7.4/protocol/data-types.md",sourceDirName:"protocol",slug:"/protocol/data-types",permalink:"/0.7.4/protocol/data-types",draft:!1,unlisted:!1,tags:[],version:"0.7.4",frontMatter:{id:"data-types",title:"Data Types"},sidebar:"docs",previous:{title:"Skyhash Protocol 1.0",permalink:"/0.7.4/protocol/skyhash"},next:{title:"Response Codes",permalink:"/0.7.4/protocol/response-codes"}},a={},c=[{value:"Simple types",id:"simple-types",level:2},{value:"Example",id:"example",level:3},{value:"Table",id:"table",level:3},{value:"Compound types",id:"compound-types",level:2},{value:"Table",id:"table-1",level:3},{value:"Array",id:"array",level:3},{value:"Flat array",id:"flat-array",level:3},{value:"Typed array",id:"typed-array",level:3},{value:"Any array",id:"any-array",level:3},{value:"Typed non-null array",id:"typed-non-null-array",level:3}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["This table lists all data types supported by Skytable and their corresponding\ntype symbols ( ",(0,r.jsx)(n.code,{children:"tsymbol"})," s) and additional information."]}),"\n",(0,r.jsx)(n.h2,{id:"simple-types",children:"Simple types"}),"\n",(0,r.jsx)(n.p,{children:"Simple types only contain one type. This makes them very simple to serialize/deserialize. All simple types have the\nfollowing layout:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"<tsymbol><number of bytes>\\n\n<element>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,r.jsxs)(n.p,{children:["For an unicode string 'sayan', the layout of the unicode string type (",(0,r.jsx)(n.code,{children:"+"}),") will look like:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"+5\\n    # 'sayan' is an unicode string, so '+' and has 5 bytes so '5'\nsayan\\n # the element 'sayan' itself\n"})}),"\n",(0,r.jsx)(n.h3,{id:"table",children:"Table"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type symbol (tsymbol)"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Additional notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"+"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"a string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"!"})}),(0,r.jsx)(n.td,{children:"Response Code"}),(0,r.jsx)(n.td,{children:"a response code"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"$"})," (reserved)"]}),(0,r.jsx)(n.td,{children:"JSON"}),(0,r.jsxs)(n.td,{children:["a ",(0,r.jsx)(n.code,{children:"JSON"})," value"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"."})," (reserved)"]}),(0,r.jsx)(n.td,{children:"smallint"}),(0,r.jsx)(n.td,{children:"An integer in the range: [0, 255]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"-"})," (reserved)"]}),(0,r.jsx)(n.td,{children:"smallint signed"}),(0,r.jsx)(n.td,{children:"An integer in the range: [-128, 127]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:":"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"An integer in the range: [0, 4,294,967,295]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:";"})," (reserved)"]}),(0,r.jsx)(n.td,{children:"int signed"}),(0,r.jsx)(n.td,{children:"An integer in the range: [-2,147,483,647, 2,147,483,647]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"%"})," (reserved)"]}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"A 32-bit floating point value"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"?"})}),(0,r.jsx)(n.td,{children:"binary string"}),(0,r.jsx)(n.td,{children:"the next line contains binary data (often called a blob)"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Do keep the matching for this symbol ",(0,r.jsx)(n.em,{children:"non-exhaustive"})," since we might add more types in future revisions of the protocol."]}),"\n",(0,r.jsx)(n.h2,{id:"compound-types",children:"Compound types"}),"\n",(0,r.jsx)(n.p,{children:"Compound types are derived types -- they are based on simple types, but often with\nsome additional properties (and serialization/deserialization differences)."}),"\n",(0,r.jsx)(n.h3,{id:"table-1",children:"Table"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type symbol (tsymbol)"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Additional notes"}),(0,r.jsx)(n.th,{children:"Protocol"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"&"}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"A recursive array"}),(0,r.jsx)(n.td,{children:"1.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"_"}),(0,r.jsx)(n.td,{children:"Flat array"}),(0,r.jsx)(n.td,{children:"A non-recursive array"}),(0,r.jsx)(n.td,{children:"1.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"@"}),(0,r.jsx)(n.td,{children:"Typed array"}),(0,r.jsx)(n.td,{children:"An array of a specific type, with nullable elements"}),(0,r.jsx)(n.td,{children:"1.1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"~"}),(0,r.jsx)(n.td,{children:"Any array"}),(0,r.jsx)(n.td,{children:"An array with a single type but no information about the type"}),(0,r.jsx)(n.td,{children:"1.1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"^"}),(0,r.jsx)(n.td,{children:"Typed non-null array"}),(0,r.jsx)(n.td,{children:"A non-recursive array with non-null elements"}),(0,r.jsx)(n.td,{children:"1.1"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"array",children:"Array"}),"\n",(0,r.jsxs)(n.p,{children:["See the full discussion on arrays ",(0,r.jsx)(n.a,{href:"skyhash#arrays-",children:"here"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"flat-array",children:"Flat array"}),"\n",(0,r.jsx)(n.p,{children:"A flat array is like an array, but with the exception that it is non-recursive. This\nmeans that a flat array can contain all types except other compound types (hence the\nname 'flat')."}),"\n",(0,r.jsx)(n.p,{children:"So if you represent an array in a programming language like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'["hello", 12345, "world"];\n'})}),"\n",(0,r.jsx)(n.p,{children:"then it will be serialized by Skyhash into:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"_3\\n    # 3 elements\n+5\\n    # 'hello' is an unicode string, so '+' and has 5 bytes\nhello\\n # the element 'hello' itself\n:5\\n    # 12345 has 5 bytes and is an unsigned int\n12345\\n # the element 12345 itself\n+5\\n    # 'world' is an unicode string, so '+' and has 5 bytes\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"A flat array is currently a response specific data type (only sent by the server and never by the client)"})}),"\n",(0,r.jsx)(n.h3,{id:"typed-array",children:"Typed array"}),"\n",(0,r.jsxs)(n.p,{children:["A typed array is like a flat array, but with the exception that it can only hold\ntwo types: either a ",(0,r.jsx)(n.a,{href:"#simple-types",children:"simple type"})," or a ",(0,r.jsx)(n.code,{children:"NULL"}),". Since this array just has a specific type in its declaration, unlike flat arrays, ",(0,r.jsx)(n.code,{children:"tsymbol"}),"s are not required."]}),"\n",(0,r.jsx)(n.p,{children:"You can think of it to be like:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["there is either no element (integer value of ",(0,r.jsx)(n.code,{children:"0"}),"; also called ",(0,r.jsx)(n.code,{children:"NULL"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"or there is an element of the declared type"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Say a programming language represents an array like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'["omg", NULL, "happened"]\n'})}),"\n",(0,r.jsx)(n.p,{children:"then it will be serialized by Skyhash into:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"@+3\\n\n3\\n\nomg\\n\n\\0\\n\n8\\n\nhappened\\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"Line-by-line explanation:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@+3\\n"})," because it is a typed array, so ",(0,r.jsx)(n.code,{children:"@"}),", the elements are unicode strings, so ",(0,r.jsx)(n.code,{children:"+"}),"\nand there are three elements, so ",(0,r.jsx)(n.code,{children:"3"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"3\\n"})," because 'omg' has 3 bytes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"omg\\n"}),", the element itself"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\0\\n"}),", ",(0,r.jsx)(n.code,{children:"NULL"})," because there was no element","\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Here ",(0,r.jsx)(n.code,{children:"\\0"})," corresponds to the ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Null_character",children:"null terminator"})," (integer value of ",(0,r.jsx)(n.code,{children:"0"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"8\\n"})," because 'happened' has 8 bytes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"happened\\n"}),", the element itself"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["A typed array is currently a response specific data type (only sent by the server and never by the client). The ",(0,r.jsx)(n.code,{children:"NULL"}),"s correspond to the cases when the server can't find the requested item."]})}),"\n",(0,r.jsx)(n.h3,{id:"any-array",children:"Any array"}),"\n",(0,r.jsxs)(n.p,{children:["An ",(0,r.jsx)(n.code,{children:"AnyArray"})," is like a typed array \u2014 but without any explicit information about the type that is sent. Currently,\n",(0,r.jsx)(n.strong,{children:"all the element types have to be the same"}),", but however, no information about the type has to be sent. It is upto\nthe server to convert them to the correct types. This makes running actions extremely simple as the clients don't have\nto specify the type. The server will convert it into the appropriate type for that action. No matter how flexible this\nmay sound -- ",(0,r.jsx)(n.code,{children:"AnyArray"}),"s are extremely performant. Also, ",(0,r.jsxs)(n.strong,{children:["no element in an ",(0,r.jsx)(n.code,{children:"AnyArray"})," can be null"]}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["If you have a programming language that represents a ",(0,r.jsx)(n.strong,{children:"singly-typed"})," array like:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'["sayan", "is", "hiking"]\n'})}),"\n",(0,r.jsx)(n.p,{children:"then Skyhash will serialize it into:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"~3\\n\n5\\n\nsayan\\n\n2\\n\nis\\n\n6\\n\nhiking\\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"Line-by-line explanation:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"~3\\n"})," because this is an ",(0,r.jsx)(n.code,{children:"AnyArray"})," with 3 elements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"5\\n"})," because 'sayan' has 5 bytes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sayan\\n"}),", the element 'sayan' itself"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"2\\n"})," because 'is' has 2 bytes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"is\\n"})," the element 'is' itself"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"6\\n"})," because 'hiking' has 6 bytes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"hiking\\n"})," the element 'hiking' itself"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["An ",(0,r.jsx)(n.code,{children:"AnyArray"})," is currently a query specific data type (only sent by the client and never by the server)"]})}),"\n",(0,r.jsx)(n.h3,{id:"typed-non-null-array",children:"Typed non-null array"}),"\n",(0,r.jsx)(n.p,{children:"A typed non-null array is just like a typed array, except for one thing \u2014 its elements can never be null. Say you\nhave an array of three strings like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'["super", "wind"]\n'})}),"\n",(0,r.jsx)(n.p,{children:"Then it will be represented like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"^+2\\n\n5\\n\nsuper\\n\n4\\n\nwind\n"})}),"\n",(0,r.jsx)(n.p,{children:"Line-by-line explanation:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"^+2\\n"})," because this a typed non-null array, with two string elements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"5\\n"}),' because the first element is "super" and has 5 chars']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"super\\n"})," the element itself"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"4\\n"}),' the second element is "wind" and has 4 chars']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"wind\\n"})," the element itself"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>d,a:()=>l});var r=s(7294);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);